<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    ${cspMeta}
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LLM Assistant</title>
    <link rel="stylesheet" href="${styleUri}" />
  </head>
  <body>
    <!-- Injected initial config -->
    <script nonce="__NONCE__">
      window.initialConfig = __CONFIG__;
    </script>
    <!-- Wrap everything in a chat container -->
    <div class="chat-container">
      <button id="clearAll" class="clear-btn">CLEAR</button>

      <!-- This is the snippet area that can grow -->
      <div id="snippet-container">
        <p>No snippets captured yet.</p>
      </div>

      <!-- The input area is wrapped so it can stick to the bottom -->
      <div class="input-container">
        <h3>Prompt</h3>
        <textarea
          id="promptInput"
          placeholder="Enter your prompt here"
        ></textarea>
        <hr />
        <div class="controls">
          <div class="left-controls">
            <div class="control-type-container">
              <label for="llmProvider">Chat Provider:</label>
              <select id="llmProvider">
                <option value="openai">ChatGPT</option>
                <option value="deepseek">Deepseek</option>
                <option value="ollama">Ollama</option>
                <option value="claude">Claude</option>
              </select>
              <label
                id="ollamaModelLabel"
                for="ollamaModelInput"
                style="display: none"
                >Model:</label
              >
              <input
                type="text"
                id="ollamaModelInput"
                placeholder="Name of the model"
                style="display: none"
              />
              <label
                id="endpointUrlLabel"
                for="endpointUrlInput"
                style="display: none"
                >Local Server URL:</label
              >
              <input
                type="text"
                id="endpointUrlInput"
                placeholder="http://localhost:11434/v1/"
                style="display: none"
              />
              <label for="modelSelect" id="modelSelectLabel">Model:</label>
              <select id="modelSelect">
                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
              </select>
              <label for="apiKeyInput" id="apiKeyLabel">API Key:</label>
              <input type="text" id="apiKeyInput" placeholder="Enter API Key" />
            </div>
            <hr />
            <div class="control-type-container">
              <label for="ACllmProvider">Auto Complete:</label>
              <select id="ACllmProvider">
                <option value="openai">ChatGPT</option>
                <option value="deepseek">Deepseek</option>
                <option value="ollama">Ollama</option>
                <option value="claude">Claude</option>
              </select>
              <label
                id="ACollamaModelLabel"
                for="ACollamaModelInput"
                style="display: none"
                >Model:</label
              >
              <input
                type="text"
                id="ACollamaModelInput"
                placeholder="Name of the model"
                style="display: none"
              />
              <label
                id="ACendpointUrlLabel"
                for="ACendpointUrlInput"
                style="display: none"
                >Local Server URL:</label
              >
              <input
                type="text"
                id="ACendpointUrlInput"
                placeholder="http://localhost:11434/v1/"
                style="display: none"
              />
              <label for="ACmodelSelect" id="ACmodelSelectLabel">Model:</label>
              <select id="ACmodelSelect">
                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
              </select>
              <label for="ACapiKeyInput" id="ACapiKeyLabel">API Key:</label>
              <input type="text" id="ACapiKeyInput" placeholder="Enter API Key" />
            </div>
          </div>
          <button id="sendPrompt" class="send-btn">Send</button>
        </div>
      </div>
    </div>
    <script src="${scriptUri}"></script>
  </body>
</html>
